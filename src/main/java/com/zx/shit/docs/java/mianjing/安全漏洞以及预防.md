
# 常见的安全漏洞

## XSS漏洞(web漏洞)
问题描述：跨站脚本攻击（Cross Site Script）缩写XSS 
发生的原因是网站将用户输入的内容输出到页面上，在这个过程中可能有恶意代码被浏览器执行。
跨站脚本攻击是恶意攻击者往Web页面里插入恶意的html代码，当用户浏览页面之时，嵌入其中的恶意html代码就会被执行。
从而达到恶意用户的目的。

修复建议：
总体修复方式：验证输入，预防攻击。输入编码，预防脚本嵌入。
1.输入验证：验证输入数据在存储之前，验证长度，类型，语法，业务规则。
2.输出编码：数据输出前，对所有字符统一进行编码。最好指定utf-8/ iso 8859-1
3.黑名单验证：网关那层，做字符的替换（<> script 关键字、# $）很容被XSS变种攻击绕过验证机制。
4.腾讯的WAF（应用防火墙（Web Application Firewall，WAF））

## SSRF漏洞(web漏洞)
问题描述：服务端请求伪造攻击(Server-side Request Forgery)：
很多web应用都提供了从其他的服务器上获取数据的功能。使用用户指定的URL, web应用可以获取图片，下载文件，读取文件内容等。
这个功能如果被恶意使用，可以利用存在缺陷的web应用作为代理攻击远程和本地的服务器。
这种形式的攻击称为服务端请求伪造攻击 (Server-side Request Forgery) 。

修复建议：
1.过滤内网请求公网服务器。
2.统一错误提示信息，避免用户可根据错误信息来判断远程服务器端口的状态。
3.内网服务器中限制请求公网服务器常用的HTTP端口，如80，433,8080,8090
4.公网服务器与内网ip无通讯，建议将公网服务器对应的内网IP列入黑名单。避免被用来获取内网数据。
5.内网服务器禁用不必要的协议，仅允许HTTP和HTTPS请求，防 止类似千file:/ / / 、gopher:/ /、ftp:/ /等协议引起的安全间题。

## CSRF攻击
问题描述：攻击者可以通过一些技术手段欺骗用户去访问一个自己已验证过的网站，做一些操作，（发邮箱，发消息，转账等）

修复建议：
1.检查HTTP herder中 referer字段。服务器查看是否为自己的站点，如果不是拒绝服务。
2.在重要的请求中的url和所有的表单中添加token。
